<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2018-09-27 Thu 07:18 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>日志框架</title>
<meta name="generator" content="Org mode">
<meta name="author" content="某某人">
<link rel='stylesheet' href='/asset/common.css' />
<script src='https://cdn.bootcss.com/jquery/2.1.3/jquery.min.js'></script>
<script src='https://cdn.bootcss.com/bootstrap/3.3.4/js/bootstrap.min.js'></script>
<script src='/asset/common.js'></script>
</head>
<body>
<div id="content">
<header>
<h1 class="title">日志框架</h1>
</header><nav id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org66ba76c">1. 背景</a></li>
<li><a href="#orge8d6bd7">2. java.util.logging</a></li>
<li><a href="#orgd223970">3. Apache Common-Logging 接口</a></li>
<li><a href="#org86beed6">4. SLF4j 接口</a></li>
<li><a href="#org5b11fef">5. Log4j</a></li>
<li><a href="#org661f738">6. Logback</a></li>
</ul>
</div>
</nav>




<section id="outline-container-org66ba76c" class="outline-2">
<h2 id="org66ba76c"><span class="section-number-2">1</span> 背景</h2>
<div class="outline-text-2" id="text-1">
<p>
为了记录程序的运行信息，传统的方式，是使用 <code>System.out.println</code>。
</p>

<p>
但是这种方式，虽然简单，却有很多缺点:
</p>
<ol class="org-ol">
<li>无法对日志的输出，做有效的控制</li>
<li>效率不够高</li>
<li>功能不够强，比如无法对日志进行自动格式化输出</li>
<li>输出的目的地比较单一，只能输出在控制台</li>
</ol>


<p>
比如，要对日志的输出与否做控制，可以做简单的封装:
</p>
<div class="org-src-container">
<pre class="src src-java"><span class="org-keyword">public</span> <span class="org-keyword">class</span> <span class="org-type">LogUtil</span> {
    <span class="org-keyword">private</span> <span class="org-keyword">static</span> <span class="org-type">boolean</span> <span class="org-variable-name">logSwitch</span> = <span class="org-constant">true</span>;

    <span class="org-keyword">public</span> <span class="org-keyword">static</span> <span class="org-type">void</span> <span class="org-function-name">log</span>(<span class="org-type">String</span> <span class="org-variable-name">msg</span>) {
        <span class="org-keyword">if</span> (logSwitch) {
            System.out.println(msg);
        }
    }
}

<span class="org-comment-delimiter">// </span><span class="org-comment">Logutil.log("ksdjksdjfjk");</span>
</pre>
</div>

<p>
对于更复杂的情况，需要进一步封装。
</p>

<p>
对于一个通用的日志空间，至少需要以下概念:
</p>
<ul class="org-ul">
<li><code>logger</code>，日志对象，使用它产生日志记录</li>
<li><code>level</code>，日志级别，用来控制日志的显示与否</li>
<li><code>formatter/render/layout</code>，日志格式，用来控制日志输出的格式、样式</li>
<li><code>handler/appender</code>，处理器，用来将日志输出到相应目的地（屏幕？文件？数据库？）</li>
</ul>
</div>
</section>

<section id="outline-container-orge8d6bd7" class="outline-2">
<h2 id="orge8d6bd7"><span class="section-number-2">2</span> java.util.logging</h2>
<div class="outline-text-2" id="text-2">
<p>
Java 自带的日志框架。
</p>

<p>
基本使用:
</p>
<div class="org-src-container">
<pre class="src src-java"><span class="org-keyword">public</span> <span class="org-keyword">static</span> <span class="org-type">Logger</span> <span class="org-variable-name">logger</span> = LogManager.getLogger(A.<span class="org-keyword">class</span>);

<span class="org-keyword">public</span> <span class="org-type">void</span> <span class="org-function-name">test</span>() {
    logger.info(<span class="org-string">"A.info"</span>);
    logger.warning(<span class="org-string">"A.warning"</span>);
    logger.severe(<span class="org-string">"A.servere"</span>);
    logger.fine(<span class="org-string">"A.fine"</span>);
}
</pre>
</div>
</div>
</section>

<section id="outline-container-orgd223970" class="outline-2">
<h2 id="orgd223970"><span class="section-number-2">3</span> Apache Common-Logging 接口</h2>
</section>
<section id="outline-container-org86beed6" class="outline-2">
<h2 id="org86beed6"><span class="section-number-2">4</span> SLF4j 接口</h2>
</section>
<section id="outline-container-org5b11fef" class="outline-2">
<h2 id="org5b11fef"><span class="section-number-2">5</span> Log4j</h2>
</section>
<section id="outline-container-org661f738" class="outline-2">
<h2 id="org661f738"><span class="section-number-2">6</span> Logback</h2>
</section>
</div>
<div id="postamble" class="status">
<p class="author">Author: 某某人</p>
<p class="date">Created: 2018-09-27 Thu 07:18</p>
<p class="validation">Go ahead, never stop.</p>
</div>
</body>
</html>
