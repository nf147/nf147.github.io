<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2018-11-07 Wed 07:04 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>File API</title>
<meta name="generator" content="Org mode">
<meta name="author" content="孙悟空">
<link rel='stylesheet' href='/asset/common.css' />
<script src='https://cdn.bootcss.com/jquery/2.1.3/jquery.min.js'></script>
<script src='https://cdn.bootcss.com/bootstrap/3.3.4/js/bootstrap.min.js'></script>
<script src='/asset/common.js'></script>
</head>
<body>
<div id="content">
<header>
<h1 class="title">File API</h1>
</header><p>
ES5 推出了一系列的 API:
</p>
<ul class="org-ul">
<li>BLOB (二进制大对象)</li>
<li>File (文件接口，基于 BLOB，但是增加了文件相关的方法，比如路径，大小)</li>
<li>FileList (借助 &lt;input type="file"&gt;，来获取硬盘文件的一个接口)</li>
<li>FileReader</li>
<li>URL</li>
</ul>


<div class="org-src-container">
<pre class="src src-js"><span class="org-comment-delimiter">// </span><span class="org-comment">&#31532;&#19968;&#27493;&#65292;&#33719;&#21462; input</span>
<span class="org-keyword">var</span> <span class="org-variable-name">fileInput</span> = document.getElementById(<span class="org-string">"myfile"</span>);

<span class="org-comment-delimiter">// </span><span class="org-comment">&#31532;&#20108;&#27493;&#65292;&#36890;&#36807; input &#33719;&#21462; FileList</span>
<span class="org-keyword">var</span> <span class="org-variable-name">fileList</span> = fileInput.files;

<span class="org-comment-delimiter">// </span><span class="org-comment">&#31532;&#19977;&#27493;&#65292;&#36890;&#36807; FileList &#33719;&#21462;&#26576;&#20010;&#25991;&#20214;&#30340;&#23545;&#35937;</span>
<span class="org-keyword">var</span> <span class="org-variable-name">file</span> = fileList[0];

<span class="org-comment-delimiter">// </span><span class="org-comment">&#31616;&#21333;&#26469;&#35828;&#65292;&#33719;&#21462; File &#23545;&#35937;&#23601;&#26159;:</span>
file = document.getElementById(<span class="org-string">'myfile'</span>).files[0];
</pre>
</div>


<p>
一个图片 &lt;img src="" &gt; 的 src 可以使下面三个之一:
</p>
<ol class="org-ol">
<li>文件在操作系统中的路径</li>
<li>DataURL 数据，用 Base64 编码，将二进制文件进行加密的过程，然后就可以使用这字符串来表示二进制文件了</li>
<li>ObjectURL，它是我们需要使用的文件的一个引用字符串而已，格式为 <code>blob:http://localhsot:9080/a3b05b0e-bd18-4b53-b6b8-0b345e9aebdb</code></li>
</ol>
</div>
<div id="postamble" class="status">
<p class="author">Author: 孙悟空</p>
<p class="date">Created: 2018-11-07 Wed 07:04</p>
<p class="validation">Go ahead, never stop.</p>
</div>
</body>
</html>
